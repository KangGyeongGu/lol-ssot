## 0. 문서 목적
- 이 문서는 League Of Algo Logic 서비스의 **기능 요구사항과 범위**를 정의한다.
- “무엇을 제공해야 하는가”를 명확히 하며, 구현 방식은 다루지 않는다.
- 프론트엔드(Antigravity)와 백엔드(Claude Code)는 이 문서를 기준으로 기능 누락이나 임의 확장을 해서는 안 된다.

## 관련 문서
- [[01_PRODUCT/GAME_RULES.md]]
- [[01_PRODUCT/USER_FLOWS.md]]
- [[01_PRODUCT/ECONOMY.md]]
- [[01_PRODUCT/CATALOG.md]]

---
## 1. 서비스 접근 및 인증 요구사항
### 1.1 로그인 및 회원가입 정책
- 서비스 최초 진입 시 로그인 페이지로 진입한다.
- 미로그인 상태에서는 어떠한 서비스 기능도 이용할 수 없다.
- 로그인 방식은 카카오 OAuth 기반 소셜 로그인만 지원한다.
- 카카오 로그인 성공 시 서버는 내부 회원 존재 여부를 판단한다.
  - 기존 회원인 경우 즉시 로그인 처리한다.
  - 미회원인 경우 SIGNUP_REQUIRED 상태를 반환한다.
- SIGNUP_REQUIRED 상태인 사용자는 서비스 이용 전에 다음 정보를 입력해야 한다.
  - 닉네임
  - 주 사용 프로그래밍 언어
- 추가 정보 입력 후 회원가입이 완료되면 로그인 상태로 전환된다.
- 회원가입이 완료되지 않은 사용자는 서비스 기능을 이용할 수 없다.
### 1.2 세션 및 재접속 정책
- 서버는 각 유저의 현재 게임 참여 여부(active game)를 단일 기준으로 관리한다.
- active game이 존재하는 경우:
  - 다른 방 생성 또는 참가가 불가능하다.
  - 다른 게임에 참가할 수 없다.
- 사용자가 새로고침 또는 재접속한 경우:
  - 서버는 active game 존재 여부를 검사한다.
  - active game이 존재하면 해당 게임으로 강제 복귀시킨다.
- 복귀 가능 시간에는 제한이 없다.
- 게임이 완전히 종료되기 전까지 위 제약 조건은 유지된다.
- FINISHED 상태는 active game에 포함되지 않으며 결과 페이지로 복귀하지 않는다.
---
## 2. 게임 방(ROOM) 요구사항
### 2.1 방 생성
- 사용자는 게임 방을 생성할 수 있다.
- 방 생성 시 다음 정보를 설정한다.
  - 방 이름
  - 프로그래밍 언어
  - 게임 유형: NORMAL / RANKED
  - 최대 인원 수: 2 ~ 6명
### 2.2 방 목록
- 사용자는 현재 생성된 방 목록을 조회할 수 있다.
- 방 목록은 다음 기준으로 검색 및 필터링할 수 있다.
  - 방 이름
  - 프로그래밍 언어
  - 게임 유형(NORMAL / RANKED)
- 방 목록은 방 생성/삭제/상태 변경(대기중/게임중)을 실시간으로 반영해야 한다.
- 현재 화면에 표시 중인 방의 상태 변화는 사용자 추가 액션 없이 자동 갱신되어야 한다.
- 현재 페이지 범위 밖에서 발생한 목록 구조 변화는 즉시 리스트를 재배치하지 않고, 업데이트 인디케이터로 사용자에게 알린다.
- 사용자는 업데이트 인디케이터(새로고침/업데이트) 액션으로 최신 목록을 적용할 수 있어야 한다.
---
## 3. 대기실 요구사항
### 3.1 플레이어 상태 표시
- 대기실에서는 각 플레이어의 상태가 표시되어야 한다.
  - 준비(READY)
  - 미준비(UNREADY)
  - 연결 유실(DISCONNECTED)
### 3.2 방장 기능
- 방 생성자는 기본 방장 권한을 가진다.
- 방장은 다음 기능을 수행할 수 있다.
  - 게임 시작
  - 플레이어 강퇴
### 3.3 강퇴
- 방장이 강퇴한 플레이어는 해당 방에 재입장할 수 없다.
- 강퇴 여부는 서버에서 관리된다.
### 3.4 룸 채팅
- 룸 단위 채팅은 WAITING_ROOM부터 IN_GAME 종료 전까지 동일 스코프(room_id)로 유지된다.
- 룸 채팅은 게임 진행 단계와 무관하게 참여자에게 실시간 전달되어야 한다.
---
## 4. 게임 유형 요구사항
### 4.1 NORMAL 게임
- 밴/픽/구매 단계 없이 바로 인게임을 시작한다.
- 아이템 및 스펠 기능이 존재하지 않는다.
- 점수(score)는 변동되지 않는다.
- 코인/경험치 보상은 지급되지 않는다.
### 4.2 RANKED 게임
- 밴/픽/구매 단계를 거친 후 인게임을 시작한다.
- 아이템 및 스펠 기능이 존재한다.
- 게임 결과에 따라 점수가 변동된다.
- 게임 결과에 따라 코인/경험치 보상이 지급된다.
---
## 5. 게임 진행 페이지 요구사항

### 5.1 페이지 구성
게임과 직접 관련된 페이지는 다음 네 개로 고정한다.
1. WAITING_ROOM  
2. BAN_PICK_SHOP (RANKED 전용)  
3. IN_GAME  
4. RESULT  

- 페이지 수는 고정이며, 추가 페이지를 정의하지 않는다.
---
## 6. 아이템 및 스펠 요구사항 (RANKED)

### 6.1 구매 제한
- 아이템: 최대 3개
- 스펠: 최대 2개
- 구매는 보유 코인 수 내에서만 가능하다.
### 6.2 사용 방식
- 아이템은 상대 플레이어에게 사용된다.
- 스펠은 자기 자신에게 적용된다.
---
## 7. 메인 페이지 요구사항
- 메인 페이지에는 다음 정보가 표시되어야 한다.
  - 실시간 알고리즘 밴/픽률 리스트
  - 실시간 유저 스코어 랭킹 대시보드
- 메인 페이지에는 전역 채팅 영역이 표시되어야 한다.
- 메인 헤더 하단에는 ROOM_LIST 패널 상태로 방 탐색/참가 기능을 제공해야 한다.
- 메인 페이지에서 MY_PAGE로 이동할 수 있어야 한다.
- 메인 페이지는 게임 진입의 시작점 역할을 한다.

---
## 8. 마이페이지 요구사항
- 사용자는 MY_PAGE에서 자신의 프로필 정보를 조회할 수 있어야 한다.
- 사용자는 MY_PAGE에서 자신의 티어 정보를 조회할 수 있어야 한다.
- 사용자는 MY_PAGE에서 자신의 누적 통계(승/패/무, 승률)를 조회할 수 있어야 한다.
- 사용자는 MY_PAGE에서 자신의 전적 목록을 조회할 수 있어야 한다.
