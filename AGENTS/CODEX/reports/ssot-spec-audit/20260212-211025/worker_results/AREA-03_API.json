{
  "run_id": "20260212-211025",
  "agent_id": "area-auditor",
  "task_id": "AREA-03_API",
  "target": {
    "kind": "area",
    "id": "03_API"
  },
  "status": "warn",
  "summary": "Found 2 medium integrity issues in 03_API lifecycle/page-map alignment; required documents exist and checked in-scope links resolve.",
  "findings": [
    {
      "severity": "medium",
      "code": "API_LIFECYCLE_ENDPOINT_DRIFT",
      "message": "`LIFECYCLE.md` collapses BAN/PICK/SHOP actions into only `/games/{gameId}/shop/purchase`, which drifts from the canonical REST contracts that define separate `/ban` and `/pick` endpoints.",
      "dedupe_key": "03_API:lifecycle:ban-pick-shop-endpoint-drift",
      "evidence": [
        {
          "path": "03_API/LIFECYCLE.md",
          "line": 137,
          "snippet": "| BAN/PICK/SHOP 구매         | `POST /games/{gameId}/shop/purchase` | 밴/픽/구매 처리              |"
        },
        {
          "path": "03_API/CONTRACT/REST/API_SUMMARY.md",
          "line": 67,
          "snippet": "| 밴 제출 | POST | /games/{gameId}/ban | body: algorithmId |"
        },
        {
          "path": "03_API/CONTRACT/REST/API_SUMMARY.md",
          "line": 68,
          "snippet": "| 픽 제출 | POST | /games/{gameId}/pick | body: algorithmId |"
        }
      ],
      "proposed_fix": "Update the lifecycle REST timing table to list BAN, PICK, and SHOP as separate calls (`/games/{gameId}/ban`, `/games/{gameId}/pick`, `/games/{gameId}/shop/purchase`) to match SSOT contracts."
    },
    {
      "severity": "medium",
      "code": "API_TIME_SYNC_TRACEABILITY_GAP",
      "message": "`TIME_SYNC` on `/user/queue/time` is defined as a basic subscription in realtime contracts, but lifecycle diagrams and page-level subscription maps omit it, creating traceability drift for timing synchronization behavior.",
      "dedupe_key": "03_API:realtime:time-sync-page-map-gap",
      "evidence": [
        {
          "path": "03_API/LIFECYCLE.md",
          "line": 25,
          "snippet": "   - `/user/queue/time`"
        },
        {
          "path": "03_API/LIFECYCLE.md",
          "line": 145,
          "snippet": "  B --> C[\"기본 구독:<br/>/user/queue/errors<br/>/user/queue/rooms<br/>/user/queue/inventory\"]"
        },
        {
          "path": "03_API/LIFECYCLE.md",
          "line": 180,
          "snippet": "  C->>WS: SUB /user/queue/errors, /user/queue/rooms, /user/queue/inventory"
        },
        {
          "path": "03_API/CONTRACT/REALTIME/TOPICS.md",
          "line": 25,
          "snippet": "| /user/queue/time | USER | TIME_SYNC | 시간 동기화 |"
        },
        {
          "path": "03_API/PAGE_MAP/MAIN.md",
          "line": 33,
          "snippet": "| /user/queue/errors | ERROR | 실시간 명령 실패 수신 |"
        }
      ],
      "proposed_fix": "Make treatment of `/user/queue/time` explicit and consistent: either add it to lifecycle diagrams and relevant PAGE_MAP subscription sections, or document it as a global non-page subscription with a clear cross-reference."
    }
  ],
  "metrics": {
    "files_scanned": 20,
    "links_checked": 10,
    "relations_checked": 5
  },
  "started_at": "2026-02-12T12:05:00Z",
  "finished_at": "2026-02-12T12:15:49Z"
}
